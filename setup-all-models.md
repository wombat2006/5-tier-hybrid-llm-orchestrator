# ğŸš€ å…¨ãƒ¢ãƒ‡ãƒ«å¯¾å¿œã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰

## ğŸ“‹ æ¦‚è¦

ã“ã®ã‚¬ã‚¤ãƒ‰ã¯ã€5å±¤ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰LLMã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼ã§ã™ã¹ã¦ã®ãƒ¢ãƒ‡ãƒ«ï¼ˆ13+ãƒ¢ãƒ‡ãƒ«ï¼‰ã‚’ä½¿ç”¨å¯èƒ½ã«ã™ã‚‹ãŸã‚ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ã§ã™ã€‚

## ğŸ¯ åˆ©ç”¨å¯èƒ½ã«ãªã‚‹ãƒ¢ãƒ‡ãƒ«

### Tier 0 - ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç‰¹åŒ–
- âœ… **Qwen3 Coder 32B** (OpenRouterçµŒç”±)
- âœ… **Qwen3 Coder Free** (OpenRouterç„¡æ–™ç‰ˆ)

### Tier 1 - é«˜é€Ÿãƒ»ä¸€èˆ¬ç”¨é€”
- âœ… **Gemini 1.5 Flash** (Google API / OpenRouter)
- âœ… **Claude 3 Haiku** (Anthropic / OpenRouter)
- âœ… **Llama 3 8B** (OpenRouter)
- âœ… **Llama 3 Free** (OpenRouterç„¡æ–™)

### Tier 2 - é«˜å“è³ªæ¨è«–
- âœ… **Claude 3.5 Sonnet** (Anthropic / OpenRouter)
- âœ… **Gemini 1.5 Pro** (Google API / OpenRouter)
- âœ… **Qwen 2.5 Math** (æ•°å­¦ç‰¹åŒ–)

### Tier 3 - æœ€é«˜å“è³ª
- âœ… **GPT-4o** (OpenAI / OpenRouter)
- âœ… **GPT-o1 Preview** (é«˜åº¦æ¨è«–)
- âŒ ~~Claude Opus~~ (é«˜ã‚³ã‚¹ãƒˆã®ãŸã‚ç„¡åŠ¹åŒ–æ¸ˆã¿)

### ç‰¹æ®Šç”¨é€”
- âœ… **MythoMax L2** (å‰µä½œãƒ»ã‚¹ãƒˆãƒ¼ãƒªãƒ¼)
- âœ… **Vector Search Engine** (RAGæ¤œç´¢)
- âœ… **OpenAI Assistant API** (ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢ãƒ»ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œ)

## ğŸ”‘ APIã‚­ãƒ¼å–å¾—æ‰‹é †

### 1. OpenRouterï¼ˆæœ€é‡è¦ãƒ»13+ãƒ¢ãƒ‡ãƒ«å¯¾å¿œï¼‰

**ç„¡æ–™ã§å§‹ã‚ã‚‹å ´åˆ:**
1. https://openrouter.ai ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆï¼ˆç„¡æ–™ï¼‰
3. https://openrouter.ai/keys ã§APIã‚­ãƒ¼ä½œæˆ
4. **ç„¡æ–™æ **: 50ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æ—¥ï¼ˆ:freeä»˜ããƒ¢ãƒ‡ãƒ«ï¼‰

**æœ¬æ ¼åˆ©ç”¨ã®å ´åˆ:**
1. $10ä»¥ä¸Šãƒãƒ£ãƒ¼ã‚¸ã§1000ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æ—¥ã«æ‹¡å¤§
2. ã‚³ã‚¹ãƒˆåŠ¹ç‡ã®è‰¯ã„ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ¢ãƒ‡ãƒ«ã«ã‚¢ã‚¯ã‚»ã‚¹

```bash
# å–å¾—ã—ãŸOpenRouterã‚­ãƒ¼ã‚’è¨­å®š
OPENROUTER_API_KEY=sk-or-v1-å®Ÿéš›ã®ã‚­ãƒ¼ã‚’ã“ã“ã«å…¥åŠ›
```

### 2. Google AI Studioï¼ˆGeminiç”¨ï¼‰

1. https://aistudio.google.com ã«ã‚¢ã‚¯ã‚»ã‚¹
2. Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³
3. "Get API Key" ã§ã‚­ãƒ¼ç”Ÿæˆï¼ˆç„¡æ–™æ ã‚ã‚Šï¼‰

```bash
# å–å¾—ã—ãŸGoogleã‚­ãƒ¼ã‚’è¨­å®š
GOOGLE_API_KEY=AIå®Ÿéš›ã®ã‚­ãƒ¼ã‚’ã“ã“ã«å…¥åŠ›
```

### 3. Anthropic Consoleï¼ˆClaudeç”¨ï¼‰

1. https://console.anthropic.com ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ
3. "API Keys" ã§ã‚­ãƒ¼ç”Ÿæˆ

```bash
# å–å¾—ã—ãŸAnthropicã‚­ãƒ¼ã‚’è¨­å®š
ANTHROPIC_API_KEY=sk-ant-å®Ÿéš›ã®ã‚­ãƒ¼ã‚’ã“ã“ã«å…¥åŠ›
```

### 4. OpenAI Platformï¼ˆGPTç”¨ï¼‰

1. https://platform.openai.com ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ
3. "API Keys" ã§ã‚­ãƒ¼ç”Ÿæˆ

```bash
# å–å¾—ã—ãŸOpenAIã‚­ãƒ¼ã‚’è¨­å®š
OPENAI_API_KEY=sk-å®Ÿéš›ã®ã‚­ãƒ¼ã‚’ã“ã“ã«å…¥åŠ›
```

## âš™ï¸ è¨­å®šæ‰‹é †

### Step 1: ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†

```bash
# .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†
nano .env
```

### Step 2: APIã‚­ãƒ¼è¨­å®š

```bash
# æœ€å°æ§‹æˆï¼ˆOpenRouterã®ã¿ã§ã‚‚13+ãƒ¢ãƒ‡ãƒ«åˆ©ç”¨å¯èƒ½ï¼‰
OPENROUTER_API_KEY=sk-or-v1-your-actual-key-here

# å®Œå…¨æ§‹æˆï¼ˆã™ã¹ã¦ã®ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ï¼‰
OPENAI_API_KEY=sk-your-openai-key
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key  
GOOGLE_API_KEY=your-google-ai-key
OPENROUTER_API_KEY=sk-or-v1-your-openrouter-key
```

### Step 3: å‹•ä½œç¢ºèª

```bash
# çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npx ts-node test-claude-code-integration.ts

# åˆ©ç”¨ä¾‹å®Ÿè¡Œ
npx ts-node claude-code-examples.ts
```

## ğŸ’° ã‚³ã‚¹ãƒˆåŠ¹ç‡ã®è¨­å®š

### ãƒ—ãƒªã‚»ãƒƒãƒˆé¸æŠ

```bash
# ã‚³ã‚¹ãƒˆé‡è¦–ï¼ˆç„¡æ–™ãƒ»ä½ã‚³ã‚¹ãƒˆãƒ¢ãƒ‡ãƒ«å„ªå…ˆï¼‰
MODEL_PRESET=cost_optimized

# ãƒãƒ©ãƒ³ã‚¹å‹ï¼ˆå“è³ªã¨ã‚³ã‚¹ãƒˆã®ãƒãƒ©ãƒ³ã‚¹ï¼‰  
MODEL_PRESET=balanced

# æ€§èƒ½é‡è¦–ï¼ˆæœ€é«˜å“è³ªãƒ¢ãƒ‡ãƒ«å„ªå…ˆï¼‰
MODEL_PRESET=performance_optimized
```

### äºˆç®—åˆ¶é™

```bash
# Claude Codeç’°å¢ƒç”¨æ¨å¥¨äºˆç®—
MONTHLY_BUDGET=30

# 1å›ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆæœ€å¤§ã‚³ã‚¹ãƒˆ
MAX_REQUEST_COST=2.0
```

## ğŸ¯ ãƒ¢ãƒ‡ãƒ«é¸æŠæˆ¦ç•¥

### ç„¡æ–™ã§å§‹ã‚ã‚‹å ´åˆ
```bash
# å®Œå…¨ç„¡æ–™æ§‹æˆ
OPENROUTER_API_KEY=your-free-key  # 50req/æ—¥
GOOGLE_API_KEY=your-google-key    # ç„¡æ–™æ 
MODEL_PRESET=cost_optimized
```

**åˆ©ç”¨å¯èƒ½:**
- Qwen3 Coder Freeï¼ˆã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼‰
- Llama 3 Freeï¼ˆä¸€èˆ¬ï¼‰
- Gemini Flashï¼ˆé«˜é€Ÿãƒ»ç„¡æ–™æ ï¼‰

### ãƒãƒ©ãƒ³ã‚¹æ§‹æˆ
```bash
# OpenRouter + Google
OPENROUTER_API_KEY=your-paid-key  # $10ãƒãƒ£ãƒ¼ã‚¸
GOOGLE_API_KEY=your-google-key
MODEL_PRESET=balanced
```

**åˆ©ç”¨å¯èƒ½:**
- å…¨Tier 0-2ãƒ¢ãƒ‡ãƒ«
- æœˆé¡$30ã§ç´„500-1000ãƒªã‚¯ã‚¨ã‚¹ãƒˆ

### å®Œå…¨æ§‹æˆ
```bash
# å…¨ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼è¨­å®š
OPENROUTER_API_KEY=your-key
GOOGLE_API_KEY=your-key  
ANTHROPIC_API_KEY=your-key
OPENAI_API_KEY=your-key
MODEL_PRESET=performance_optimized
```

**åˆ©ç”¨å¯èƒ½:**
- å…¨13+ãƒ¢ãƒ‡ãƒ«
- æœ€é©ä¾¡æ ¼ã§ã®ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹
- å®Œå…¨ãªãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å¯¾å¿œ

## ğŸ” ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### 1. OpenRouterã‚­ãƒ¼ã‚¨ãƒ©ãƒ¼
```
Error: OpenRouter API key not provided
```
â†’ OpenRouterã‚­ãƒ¼ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

### 2. ãƒ¢ãƒ‡ãƒ«åˆæœŸåŒ–å¤±æ•—
```
Failed to initialize client for model_name
```
â†’ è©²å½“ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®APIã‚­ãƒ¼ã‚’ç¢ºèª

### 3. äºˆç®—è¶…éã‚¨ãƒ©ãƒ¼
```
Budget exceeded and no fallback available
```
â†’ `llm.resetMetrics()` ã§ãƒªã‚»ãƒƒãƒˆã¾ãŸã¯äºˆç®—å¢—é¡

## ğŸ“Š åˆ©ç”¨çµ±è¨ˆç¢ºèª

```typescript
import { defaultLLM } from './src/claude-code-interface';

// åˆ©ç”¨å¯èƒ½ãƒ¢ãƒ‡ãƒ«ç¢ºèª
const models = defaultLLM.getAvailableModels();
console.log(`åˆ©ç”¨å¯èƒ½ãƒ¢ãƒ‡ãƒ«: ${models.length}å€‹`);

// ä½¿ç”¨çµ±è¨ˆ
const metrics = defaultLLM.getMetrics();
console.log('Tieråˆ¥ã‚³ã‚¹ãƒˆ:', metrics.cost_per_tier);
console.log('äºˆç®—åˆ©ç”¨ç‡:', `${metrics.budget_utilization_percentage}%`);
```

## ğŸ‰ å®Œäº†ç¢ºèª

ã™ã¹ã¦ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå®Œäº†ã™ã‚‹ã¨ï¼š

```
ğŸš€ === 5-Tier Hybrid LLM System Summary ===

Tier 0: 2 models
  âœ… qwen3_coder - ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç‰¹åŒ–
  âœ… qwen3_coder_free - ç„¡æ–™ç‰ˆ

Tier 1: 3 models  
  âœ… gemini_flash - é«˜é€Ÿæ±ç”¨
  âœ… claude_haiku - é«˜é€ŸClaude
  âœ… llama3_free - ç„¡æ–™æ±ç”¨

Tier 2: 3 models
  âœ… claude_sonnet - é«˜å“è³ªæ¨è«–
  âœ… gemini_pro - ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«
  âœ… qwen_math - æ•°å­¦ç‰¹åŒ–

Tier 3: 2 models
  âœ… gpt4o - OpenAIæœ€é«˜å“è³ª
  âœ… o1_preview - é«˜åº¦æ¨è«–

ğŸ’° Monthly Budget: $30
ğŸ”„ 13+ãƒ¢ãƒ‡ãƒ«å¯¾å¿œå®Œäº†ï¼
```

**ã“ã‚Œã§13+ãƒ¢ãƒ‡ãƒ«ã™ã¹ã¦ãŒåˆ©ç”¨å¯èƒ½ã«ãªã‚Šã¾ã™ï¼** ğŸ‰